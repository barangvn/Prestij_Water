import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";

// Firebase yapılandırma
const firebaseConfig = {
    apiKey: "AIzaSyAmW3qdlm49cvfVeP27DaAMGJwtKDJ6kyI",
    authDomain: "prestij-water.firebaseapp.com",
    databaseURL: "https://prestij-water-default-rtdb.firebaseio.com",
    projectId: "prestij-water",
    storageBucket: "prestij-water.firebasestorage.app",
    messagingSenderId: "712467125722",
    appId: "1:712467125722:web:e845679e5d456fda2f5ce3",
    measurementId: "G-G0ZYR03RVL"
};

// Firebase'i başlat
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
// Müşteri ekleme fonksiyonu
function addCustomer(name, address, phone) {
    const customerRef = firebase.database().ref('customers');
    const newCustomerRef = customerRef.push();
    newCustomerRef.set({
        name: name,
        address: address,
        phone: phone,
        maintenanceHistory: [],
        installationHistory: [],
        repairHistory: []
    });
}
// Müşteri düzenleme fonksiyonu
function updateCustomer(customerId, updatedData) {
    const customerRef = firebase.database().ref('customers/' + customerId);
    customerRef.update(updatedData);
}
// Müşteri silme fonksiyonu
function deleteCustomer(customerId) {
    const customerRef = firebase.database().ref('customers/' + customerId);
    customerRef.remove();
}
// Stok ekleme fonksiyonu
function addStockItem(name, quantity, criticalStock) {
    const stockRef = firebase.database().ref('stock');
    const newStockRef = stockRef.push();
    newStockRef.set({
        name: name,
        quantity: quantity,
        criticalStock: criticalStock
    });
}
// Stok güncelleme fonksiyonu
function updateStockItem(stockId, updatedData) {
    const stockRef = firebase.database().ref('stock/' + stockId);
    stockRef.update(updatedData);
}
// Stok silme fonksiyonu
function deleteStockItem(stockId) {
    const stockRef = firebase.database().ref('stock/' + stockId);
    stockRef.remove();
}
// Müşteriye stok atama fonksiyonu
function assignStockToCustomer(customerId, stockId) {
    const customerRef = firebase.database().ref('customers/' + customerId + '/assignedStock');
    customerRef.push(stockId);
}
<!-- Müşteri Ekleme -->
<h3>Müşteri Ekle</h3>
<input type="text" id="customerName" placeholder="Müşteri Adı" required>
<input type="text" id="customerAddress" placeholder="Müşteri Adresi" required>
<input type="text" id="customerPhone" placeholder="Müşteri Telefon" required>
<button onclick="addCustomer(
    document.getElementById('customerName').value,
    document.getElementById('customerAddress').value,
    document.getElementById('customerPhone').value
)">Müşteri Ekle</button>
<!-- Stok Ekleme -->
<h3>Stok Ekle</h3>
<input type="text" id="stockName" placeholder="Ürün Adı" required>
<input type="number" id="stockQuantity" placeholder="Miktar" required>
<input type="number" id="criticalStock" placeholder="Kritik Stok" required>
<button onclick="addStockItem(
    document.getElementById('stockName').value,
    document.getElementById('stockQuantity').value,
    document.getElementById('criticalStock').value
)">Stok Ekle</button>
<!-- Müşteriye Stok Atama -->
<h3>Stok Atama</h3>
<input type="text" id="customerIdForStock" placeholder="Müşteri ID">
<input type="text" id="stockIdForCustomer" placeholder="Stok ID">
<button onclick="assignStockToCustomer(
    document.getElementById('customerIdForStock').value,
    document.getElementById('stockIdForCustomer').value
)">Stok Atama</button>
<!-- Müşteriye Stok Atama -->
<h3>Stok Atama</h3>
<input type="text" id="customerIdForStock" placeholder="Müşteri ID">
<input type="text" id="stockIdForCustomer" placeholder="Stok ID">
<button onclick="assignStockToCustomer(
    document.getElementById('customerIdForStock').value,
    document.getElementById('stockIdForCustomer').value
)">Stok Atama</button>
