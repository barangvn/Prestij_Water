<!DOCTYPE html>
<html>
<head>
  <title>Prestij Water</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
</head>
<body>
  <h1>Prestij Water - Müşteri Kayıt</h1>

  <input type="text" id="musteriAd" placeholder="Müşteri adı girin" />
  <button onclick="kaydet()">Kaydet</button>

  <h2>Kayıtlı Müşteriler:</h2>
  <div id="kayitlar"></div>

  <script>
    // Firebase yapılandırman
    const firebaseConfig = {
      apiKey: "AIzaSyAmW3qdlm49cvfVeP27DaAMGJwtKDJ6kyI",
      authDomain: "prestij-water.firebaseapp.com",
      databaseURL: "https://prestij-water-default-rtdb.firebaseio.com",
      projectId: "prestij-water",
      storageBucket: "prestij-water.firebasestorage.app",
      messagingSenderId: "712467125722",
      appId: "1:712467125722:web:e845679e5d456fda2f5ce3",
      measurementId: "G-G0ZYR03RVL"
    };

    // Firebase başlat
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Kaydetme fonksiyonu
    function kaydet() {
      const musteriAd = document.getElementById("musteriAd").value;
      if (!musteriAd) return;

      const yeniKayit = db.ref("musteriler").push();
      yeniKayit.set({ ad: musteriAd });

      document.getElementById("musteriAd").value = "";
    }

    // Firebase'den verileri çek ve göster
    db.ref("musteriler").on("value", function(snapshot) {
      const kayitlarDiv = document.getElementById("kayitlar");
      kayitlarDiv.innerHTML = "";

      snapshot.forEach(function(childSnapshot) {
        const veri = childSnapshot.val();
        kayitlarDiv.innerHTML += "<div>• " + veri.ad + "</div>";
      });
    });
  </script>
</body>
</html>
